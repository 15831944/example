# ps 指令

這行指令可利用 ps 指令列出行程的一些基本資訊，按照每個行程所使用的記憶體排序後，列出排名最前面的幾個行程，也就是列出系統上最耗費記憶體的程式：
```shell
ps -eo pid,ppid,cmd,%mem,%cpu --sort=-%mem | head
```
這裡的 -e 參數是代表輸出所有行程的資訊，而 -o 參數則是用來指定輸出欄位用的，後面接著所有想要輸出的欄位名稱，這裡我們讓 ps 輸出以下幾個欄位：

- pid：行程 ID（process ID）。
- ppid：父行程 ID（parent process ID）。
- cmd：程式名稱。
- %mem：記憶體使用量（百分比）。
- %cpu：CPU 使用量（百分比）。

而 `--sort` 參數則是指定排序的依據欄位，預設會依照數值由小到大排序，若要由大到小的方式排序的話，可以在欄位名稱前加上一個負號。
以這個例子來說，我們將排序的欄位指定為 `-%mem`，這樣就可以依照記憶體使用量，從大到小排序。

若要找出系統上最耗費 CPU 的程式，也是使用類似的指令，只是在排序時，將排序的欄位換成 CPU 使用量：
```shell
ps -eo pid,ppid,cmd,%mem,%cpu --sort=-%cpu | head
```